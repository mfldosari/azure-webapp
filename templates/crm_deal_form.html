<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CRM Deal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        body { background: #f7f7fb; font-family: 'Segoe UI', sans-serif; }
        .form-container { max-width: 400px; margin: 40px auto; background: #fff; border-radius: 16px; box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.17); padding: 40px 30px; }
        h2 { color: #6e8efb; }
        input[type="text"], input[type="number"] { width: 90%; padding: 10px; margin: 10px 0; border-radius: 8px; border: 1px solid #a777e3; font-size: 1em; }
        select { width: 95%; padding: 10px; margin: 10px 0; border-radius: 8px; border: 1px solid #a777e3; font-size: 1em; }
        .fancy-btn { background: linear-gradient(90deg, #6e8efb, #a777e3); color: white; border: none; border-radius: 30px; padding: 10px 28px; font-size: 1.1em; cursor: pointer; margin-top: 10px; }
        .fancy-btn:hover { transform: scale(1.05); }
    </style>
</head>
<body>
    <div class="form-container animate__animated animate__fadeInDown">
        <h2>{% if deal %}Edit Deal{% else %}Add Deal{% endif %}</h2>
        <form method="post">
            <input type="text" name="title" placeholder="Deal Title" value="{{ deal.title if deal else '' }}" required><br>
            <input type="number" name="value" placeholder="Value" value="{{ deal.value if deal else '' }}" required><br>
            <select name="contact_id" required>
                <option value="">-- Select Contact --</option>
                {% for c in contacts %}
                <option value="{{ c.id }}" {% if deal and deal.contact_id == c.id %}selected{% endif %}>{{ c.name }}</option>
                {% endfor %}
            </select><br>
            <button class="fancy-btn" type="submit">Save</button>
        </form>
        <a href="/crm" class="fancy-btn">Back</a>
    </div>
</body>
</html>
